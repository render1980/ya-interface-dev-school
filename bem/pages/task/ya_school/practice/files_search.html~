<!doctype html>
<html class="b-page">
<head>
	<meta charset="UTF-8">
	<title>Поиск файлов (задание #4)</title>
	<link rel="stylesheet" type="text/css" href="../../../index/index.css">
	<script type="text/javascript" src="../../../all/all.js"></script>	 
</head>
<body class="b-page">	
	<div class="b-wrapper">
		<div class="b-header">
			<div class="b-header__logo">
				<h1>YA_DEV</h1>
			</div>
		</div>

		<div class="b-nav">
			<ul class="b-top_menu">
				<li  class="b-top_menu__item ">
					<a href="../../../index/index.html" class="b-top_menu__item_color_white b-top_menu__item_decoration_none">Главная</a>
				</li>
				<li  class="b-top_menu__item">
					<a href="../../../task/task.html" class="b-top_menu__item_color_white b-top_menu__item_decoration_none">Проекты</a>
				</li>
				<li  class="b-top_menu__item">
					<a href="../../../site/site.html" class="b-top_menu__item_color_white b-top_menu__item_decoration_none">О сайте</a>
				</li>
				<li class="b-top_menu__item">
					<a href="../../../author/author.html" class="b-top_menu__item_color_white b-top_menu__item_decoration_none">Об авторе</a>
				</li>
			</ul>
		</div>

		<div class="b-main">
			<div class="b-main__article">
				<h3>Поиск файлов</h3>
					<p id="task"><b>Задание:</b> Найдите все текстовые файлы (*.txt), в имени которых содержится «yandex», а в содержимом — «школа фронтенд-разработки». (предполагается работа с командной строкой)</p>
				<p>Bash:</p>
				<div class="b-code">
					<pre>					
ls | grep "школа разработки интерфейсов" . *.txt | grep yandex
					</pre>
				</div>
				
				<p>Python:</p>
				<div class="b-code">
					<pre>					
#!/usr/bin/python
import os, re

file_list = []
match_files = []
path = r"C:\python\scripts\txt"
templ_body = "школа фронтенд-разработки"
templ_head = re.compile('yandex(\w+)?.txt')

for root, dirs, files in os.walk(path):
	for f in files:
		if re.search(templ_head, f):
			file = os.path.join(root, f)
			f = open(file)
			data = f.read()
			if(re.search(templ_body, data)):
				print(file)
			f.close()
					</pre>
				</div>
				
				<p>Perl (с использованием grep):</p>
				<div class="b-code">
					<pre>					
$templ = "школа фронтенд-разработки";
opendir(DIR, "C:/perl/scripts/txt") || die "no txt?";
@file_list = grep{"*yandex*.txt"} readdir(DIR);
foreach $file(@file_list){
	open(FILE, $file) || die "can't open the file!";
	if(<FILE> =~ /$templ/){
		print "$file\n";
	}
	close(FILE);	
}
closedir(DIR);
					</pre>
				</div>
				
				<p>Perl (с использованием развертки):</p>
				<div class="b-code">
					<pre>
$templ = "школа фронтенд-разработки";
$mask = "*yandex*.txt";
@file_list = &ltC:/perl/scripts/txt/$mask&gt;
foreach $file(@file_list){
	open(FILE, $file) || die "can't open the file!";
	if(&ltFILE&gt =~ /$templ/){
		print "$file\n";
	}
	close(FILE);
}
					</pre>
				</div>
				
				<p>Ruby :</p>
				<div class="b-code">
					<pre>
Dir.foreach("txt") do |file|
	puts file if file =~ /yandex(\w+)?.txt/ && File.read(file) =~ /школа фронтенд-разработки/	
end
					</pre>
				</div>		
			</div>
		</div>
		<div class="b-wrapper__blank"></div>

	</div>
	<div class="b-footer">
		<ul class="b-bottom_menu">
			<li class="b-bottom_menu__item"><a href="../../../site/sitemap.html">Карта сайта</a></li>
			<li class="b-bottom_menu__item"><a href="../../../author/author.html">Об авторе</a></li>
			<li class="b-bottom_menu__item"><a href="../../../author/contacts.html">Контакты</a></li>
		</ul>
	</div>
</body>
</html>
