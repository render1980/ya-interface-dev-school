<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Поиск файлов</title>
	<link rel="stylesheet" type="text/css" href="css/style.css">	 
	<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
	<script type="text/javascript" src="js/jquery.dropdownPlain.js"></script>
	<script type="text/javascript">
		if(navigator.userAgent.indexOf("MSIE 9.0") > 0){
			document.write("<link rel='stylesheet' href='css/ie_style.css'>");
		}
	</script>
</head>
<body>
	<div id="wrapper">
		<div id="header">
			<div id="logo">
				<a href="index.html"><h1>YA_DEV</h1></a>
			</div>
		</div>

		<div id="nav">
			<ul id="top_menu">
				<li><a href="index.html"><div class="menu_elem">Главная</div></a></li>
				<li>
					<a href=""><div class="menu_elem">Проекты<div class="arrow"></div></div>
					</a>
					<ul>
						<li>
							<a href="ya_school.html">Школа интерфейсов Яндекс</a>
						</li>							
					</ul>
				</li>
				<li>
					<a href=""><div class="menu_elem">О сайте<div class="arrow"></div></div></a>
						<ul>
							<li><a href="common_info.html">Общая информация</a></li>
							<li><a href="sitemap.html">Карта сайта</a></li>
						</ul>
				</li>
				<li>
					<div id="last">
						<a href="author.html"><div class="menu_elem">Об авторе<div class="arrow"></div></div></a>
					</div>
					<ul>
						<li><a href="resume.html">Резюме</a></li>
						<li><a href="contacts.html">Контакты</a></li>
					</ul>
				</li>
			</ul>
		</div>

		<div id="main">
			<div class="article">
				<h2>Поиск файлов</h2>
				<p id="task"><b>Задание:</b> Найдите все текстовые файлы (*.txt), в имени которых содержится «yandex», а в содержимом — «школа фронтенд-разработки». (предполагается работа с командной строкой)</p>
				<p>Bash:</p>
				<div class="code">
					<pre>					
ls | grep "школа разработки интерфейсов" . *.txt | grep yandex
					</pre>
				</div>
				
				<p>Python:</p>
				<div class="code">
					<pre>					
#!/usr/bin/python
import os, re

file_list = []
match_files = []
path = r"C:\python\scripts\txt"
templ_body = "школа фронтенд-разработки"
templ_head = re.compile('yandex(\w+)?.txt')

for root, dirs, files in os.walk(path):
	for f in files:
		if re.search(templ_head, f):
			file = os.path.join(root, f)
			f = open(file)
			data = f.read()
			if(re.search(templ_body, data)):
				print(file)
			f.close()
					</pre>
				</div>
				
				<p>Perl (с использованием grep):</p>
				<div class="code">
					<pre>					
$templ = "школа фронтенд-разработки";
opendir(DIR, "C:/perl/scripts/txt") || die "no txt?";
@file_list = grep{"*yandex*.txt"} readdir(DIR);
foreach $file(@file_list){
	open(FILE, $file) || die "can't open the file!";
	if(<FILE> =~ /$templ/){
		print "$file\n";
	}
	close(FILE);	
}
closedir(DIR);
					</pre>
				</div>
				
				<p>Perl (с использованием развертки):</p>
				<div class="code">
					<pre>
$templ = "школа фронтенд-разработки";
$mask = "*yandex*.txt";
@file_list = &ltC:/perl/scripts/txt/$mask&gt;
foreach $file(@file_list){
	open(FILE, $file) || die "can't open the file!";
	if(&ltFILE&gt =~ /$templ/){
		print "$file\n";
	}
	close(FILE);
}
					</pre>
				</div>
				
				<p>Ruby :</p>
				<div class="code">
					<pre>
Dir.foreach("txt") do |file|
	puts file if file =~ /yandex(\w+)?.txt/ && File.read(file) =~ /школа фронтенд-разработки/	
end
					</pre>
				</div>	
				
			</div>
		</div>
		<div id="footer_blank"></div>		

	</div>
	<div id="footer">			
		<div id="bottom_menu">
			<ul>
				<li><a href="sitemap.html">Карта сайта</a></li>
				<li><a href="author.html">Об авторе</a></li>
				<li><a href="contacts.html">Контакты</a></li>
			</ul>
		</div>
		<div id="copyrigth">
			© copyright 2012
		</div>
	</div>
	
</body>
</html>